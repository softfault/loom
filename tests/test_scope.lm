# tests/test_scope.lm
use .config

# 在主模块定义一个同名变量
secret_code = 99999

[main()]
    print("My secret:" + secret_code)
    
    # 关键点：config.get_secret() 应该打印 12345，而不是 99999
    real_secret = config.get_secret()
    print("Real secret:" + real_secret)
    
    if real_secret == 12345 
        print("PASS: Lexical Scoping works!")
    else 
        print("FAIL: Dynamic Scoping detected!")
    