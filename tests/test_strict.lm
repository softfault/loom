[Animal]
name: str = "Animal"

[Dog : Animal]
bark = () => print("Woof")

[main()]
    # 1. 尝试隐式赋值 (以前是合法的，现在应该报错)
    # Error: Type mismatch: expected 'Animal', but found 'Dog'
    # a: Animal = Dog() 
    
    # 2. 正确的写法：使用显式转换
    a: Animal = Dog() as Animal
    print("Upcast success: " + a.name)
    
    # 3. 数组的严格性
    # 以前 [Dog()] 可以赋值给 [Animal]，现在不行
    # dogs: [Animal] = [Dog()] # Should Error
    
    # 正确写法 (Analyzer 里的 check_cast_expr 应该允许数组协变转换)
    dogs: [Animal] = [Dog()] as [Animal]
    print("Array cast success")